{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useEmployees } from \"./hooks/useEmployees\";\nimport { usePaginatedTransactions } from \"./hooks/usePaginatedTransactions\";\nimport { useTransactionsByEmployee } from \"./hooks/useTransactionsByEmployee\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function App() {\n  _s();\n\n  const {\n    data: employees,\n    ...employeeUtils\n  } = useEmployees();\n  const {\n    data: paginatedTransactions,\n    ...paginatedTransactionsUtils\n  } = usePaginatedTransactions();\n  const {\n    data: transactionsByEmployee,\n    ...transactionsByEmployeeUtils\n  } = useTransactionsByEmployee();\n  const [isLoading, setIsLoading] = useState(false);\n  const transactions = useMemo(() => {\n    var _ref, _paginatedTransaction;\n\n    return (_ref = (_paginatedTransaction = paginatedTransactions === null || paginatedTransactions === void 0 ? void 0 : paginatedTransactions.data) !== null && _paginatedTransaction !== void 0 ? _paginatedTransaction : transactionsByEmployee) !== null && _ref !== void 0 ? _ref : null;\n  }, [paginatedTransactions, transactionsByEmployee]);\n  const loadAllTransactions = useCallback(async () => {\n    setIsLoading(true);\n    transactionsByEmployeeUtils === null || transactionsByEmployeeUtils === void 0 ? void 0 : transactionsByEmployeeUtils.invalidateData();\n    await (employeeUtils === null || employeeUtils === void 0 ? void 0 : employeeUtils.fetchAll());\n    await (paginatedTransactionsUtils === null || paginatedTransactionsUtils === void 0 ? void 0 : paginatedTransactionsUtils.fetchAll());\n    setIsLoading(false);\n  }, [employeeUtils, paginatedTransactionsUtils, transactionsByEmployeeUtils]);\n  const loadTransactionsByEmployee = useCallback(async employeeId => {\n    paginatedTransactionsUtils === null || paginatedTransactionsUtils === void 0 ? void 0 : paginatedTransactionsUtils.invalidateData();\n    await (transactionsByEmployeeUtils === null || transactionsByEmployeeUtils === void 0 ? void 0 : transactionsByEmployeeUtils.fetchById(employeeId));\n  }, [paginatedTransactionsUtils, transactionsByEmployeeUtils]);\n  useEffect(() => {\n    if (employees === null && !(employeeUtils !== null && employeeUtils !== void 0 && employeeUtils.loading)) {\n      loadAllTransactions();\n    }\n  }, [employeeUtils.loading, employees, loadAllTransactions]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n\n_s(App, \"yXHk/2qvl++XLkP2SZkJsf+Vph0=\", false, function () {\n  return [useEmployees, usePaginatedTransactions, useTransactionsByEmployee];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useEffect","useMemo","useState","useEmployees","usePaginatedTransactions","useTransactionsByEmployee","App","data","employees","employeeUtils","paginatedTransactions","paginatedTransactionsUtils","transactionsByEmployee","transactionsByEmployeeUtils","isLoading","setIsLoading","transactions","loadAllTransactions","invalidateData","fetchAll","loadTransactionsByEmployee","employeeId","fetchById","loading"],"sources":["C:/Users/User/Desktop/ramp-fe-challenge/src/App.tsx"],"sourcesContent":["import { Fragment, useCallback, useEffect, useMemo, useState } from \"react\"\nimport { InputSelect } from \"./components/InputSelect\"\nimport { Instructions } from \"./components/Instructions\"\nimport { Transactions } from \"./components/Transactions\"\nimport { useEmployees } from \"./hooks/useEmployees\"\nimport { usePaginatedTransactions } from \"./hooks/usePaginatedTransactions\"\nimport { useTransactionsByEmployee } from \"./hooks/useTransactionsByEmployee\"\nimport { EMPTY_EMPLOYEE } from \"./utils/constants\"\nimport { Employee } from \"./utils/types\"\nimport { Provider } from \"react-redux\"\nimport { store } from \"./app/app\"\n\nexport function App() {\n  const { data: employees, ...employeeUtils } = useEmployees()\n  const { data: paginatedTransactions, ...paginatedTransactionsUtils } = usePaginatedTransactions()\n  const { data: transactionsByEmployee, ...transactionsByEmployeeUtils } = useTransactionsByEmployee()\n  const [isLoading, setIsLoading] = useState(false)\n\n  const transactions = useMemo(\n    () => paginatedTransactions?.data ?? transactionsByEmployee ?? null,\n    [paginatedTransactions, transactionsByEmployee]\n  )\n\n  const loadAllTransactions = useCallback(async () => {\n    setIsLoading(true)\n    transactionsByEmployeeUtils?.invalidateData()\n\n    await employeeUtils?.fetchAll()\n    await paginatedTransactionsUtils?.fetchAll()\n\n    setIsLoading(false)\n  }, [employeeUtils, paginatedTransactionsUtils, transactionsByEmployeeUtils])\n\n  const loadTransactionsByEmployee = useCallback(\n    async (employeeId: string) => {\n      paginatedTransactionsUtils?.invalidateData()\n      await transactionsByEmployeeUtils?.fetchById(employeeId)\n    },\n    [paginatedTransactionsUtils, transactionsByEmployeeUtils]\n  )\n\n  useEffect(() => {\n    if (employees === null && !employeeUtils?.loading) {\n      loadAllTransactions()\n    }\n    \n  }, [employeeUtils.loading, employees, loadAllTransactions])\n\n  return (\n\n    <>\n    \n    </>\n   \n  )\n}\n"],"mappings":";;AAAA,SAAmBA,WAAnB,EAAgCC,SAAhC,EAA2CC,OAA3C,EAAoDC,QAApD,QAAoE,OAApE;AAIA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,wBAAT,QAAyC,kCAAzC;AACA,SAASC,yBAAT,QAA0C,mCAA1C;;;AAMA,OAAO,SAASC,GAAT,GAAe;EAAA;;EACpB,MAAM;IAAEC,IAAI,EAAEC,SAAR;IAAmB,GAAGC;EAAtB,IAAwCN,YAAY,EAA1D;EACA,MAAM;IAAEI,IAAI,EAAEG,qBAAR;IAA+B,GAAGC;EAAlC,IAAiEP,wBAAwB,EAA/F;EACA,MAAM;IAAEG,IAAI,EAAEK,sBAAR;IAAgC,GAAGC;EAAnC,IAAmER,yBAAyB,EAAlG;EACA,MAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C;EAEA,MAAMc,YAAY,GAAGf,OAAO,CAC1B;IAAA;;IAAA,wCAAMS,qBAAN,aAAMA,qBAAN,uBAAMA,qBAAqB,CAAEH,IAA7B,yEAAqCK,sBAArC,uCAA+D,IAA/D;EAAA,CAD0B,EAE1B,CAACF,qBAAD,EAAwBE,sBAAxB,CAF0B,CAA5B;EAKA,MAAMK,mBAAmB,GAAGlB,WAAW,CAAC,YAAY;IAClDgB,YAAY,CAAC,IAAD,CAAZ;IACAF,2BAA2B,SAA3B,IAAAA,2BAA2B,WAA3B,YAAAA,2BAA2B,CAAEK,cAA7B;IAEA,OAAMT,aAAN,aAAMA,aAAN,uBAAMA,aAAa,CAAEU,QAAf,EAAN;IACA,OAAMR,0BAAN,aAAMA,0BAAN,uBAAMA,0BAA0B,CAAEQ,QAA5B,EAAN;IAEAJ,YAAY,CAAC,KAAD,CAAZ;EACD,CARsC,EAQpC,CAACN,aAAD,EAAgBE,0BAAhB,EAA4CE,2BAA5C,CARoC,CAAvC;EAUA,MAAMO,0BAA0B,GAAGrB,WAAW,CAC5C,MAAOsB,UAAP,IAA8B;IAC5BV,0BAA0B,SAA1B,IAAAA,0BAA0B,WAA1B,YAAAA,0BAA0B,CAAEO,cAA5B;IACA,OAAML,2BAAN,aAAMA,2BAAN,uBAAMA,2BAA2B,CAAES,SAA7B,CAAuCD,UAAvC,CAAN;EACD,CAJ2C,EAK5C,CAACV,0BAAD,EAA6BE,2BAA7B,CAL4C,CAA9C;EAQAb,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,KAAK,IAAd,IAAsB,EAACC,aAAD,aAACA,aAAD,eAACA,aAAa,CAAEc,OAAhB,CAA1B,EAAmD;MACjDN,mBAAmB;IACpB;EAEF,CALQ,EAKN,CAACR,aAAa,CAACc,OAAf,EAAwBf,SAAxB,EAAmCS,mBAAnC,CALM,CAAT;EAOA,oBAEE,qCAFF;AAOD;;GA3CeX,G;UACgCH,Y,EACyBC,wB,EACEC,yB;;;KAH3DC,G"},"metadata":{},"sourceType":"module"}